<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@greencoast/discord.js-extended - v2.2.1</title><meta name="description" content="Documentation for @greencoast/discord.js-extended - v2.2.1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script>	<link rel="icon" href="favicon.ico" />
</head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@greencoast/discord.js-extended - v2.2.1</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> @greencoast/discord.js-extended - v2.2.1</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><p><a href="https://github.com/greencoast-studios/discord.js-extended"><img src="https://img.shields.io/github/workflow/status/greencoast-studios/discord.js-extended/CI?logo=github" alt="ci-build-status"></a>
<a href="https://github.com/greencoast-studios/discord.js-extended"><img src="https://img.shields.io/github/issues/greencoast-studios/discord.js-extended?logo=github" alt="issues"></a>
<a href="https://www.npmjs.com/package/@greencoast/discord.js-extended"><img src="https://img.shields.io/bundlephobia/min/@greencoast/discord.js-extended" alt="bundle-size"></a>
<a href="https://www.npmjs.com/package/@greencoast/discord.js-extended"><img src="https://img.shields.io/node/v/@greencoast/discord.js-extended?logo=Node.js&color=green" alt="node-version"></a>
<a href="https://www.npmjs.com/package/@greencoast/discord.js-extended"><img src="https://img.shields.io/npm/v/@greencoast/discord.js-extended?logo=npm" alt="version"></a>
<a href="https://www.npmjs.com/package/@greencoast/discord.js-extended"><img src="https://img.shields.io/npm/dependency-version/@greencoast/discord.js-extended/peer/discord.js?logo=npm" alt="djs-version"></a>
<a href="https://www.npmjs.com/package/@greencoast/discord.js-extended"><img src="https://img.shields.io/npm/dw/@greencoast/discord.js-extended?logo=npm" alt="downloads-week"></a>
<a href="https://www.npmjs.com/package/@greencoast/discord.js-extended"><img src="https://img.shields.io/npm/dt/@greencoast/discord.js-extended?logo=npm" alt="downloads-total"></a></p>

<a href="#discordjs---extended" id="discordjs---extended" style="color: inherit; text-decoration: none;">
  <h1>Discord.js - Extended</h1>
</a>
<p><a href="https://github.com/greencoast-studios/discord.js-extended">discord.js-extended</a> is a library that facilitates the repetitive tasks when creating Discord bots with <a href="https://discord.js.org/#/">Discord.js</a>. Used by <a href="https://greencoaststudios.com">Greencoast Studios</a>.</p>
<p>Heavily inspired by <a href="https://www.npmjs.com/package/discord.js-commando">discord.js-commando</a>, it includes similar design decisions, however this adds certain functionality that isn&#39;t available like a configuration provider and automatic presence management. This package does not include all functionality provided by Commando, in fact, Commando is way more powerful than this library. Nevertheless, this was built to make it easier for us to quickly build bots without having to repeat ourselves that much.</p>
<p>This was made for <a href="https://discord.js.org/#/">Discord.js</a> v13.5, however any v13 should work fine.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>You can visit the <a href="https://docs.greencoaststudios.com/discord.js-extended/master">documentation site</a> to see what this library offers, check the <a href="https://github.com/greencoast-studios/discord.js-extended/tree/master/example">example</a> bot, or check the <a href="#bots-using-this">bots using this section</a> to see even more examples.</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h3>Installation</h3>
</a>
<p>This package does not install <a href="https://discord.js.org/#/">Discord.js</a>, so you should install it yourself.</p>
<p>You can install this package with:</p>
<pre><code class="language-text">npm install discord.js @greencoast/discord.js-extended
</code></pre>

<a href="#configuring-your-client" id="configuring-your-client" style="color: inherit; text-decoration: none;">
  <h2>Configuring your Client</h2>
</a>
<p>This package covers client configuration from environment variables and/or JSON files through the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.configprovider.html">ConfigProvider</a> class, which makes it easy to add configuration to a bot. Consider checking the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.configprovider.html">documentation page</a> to see how to use this.</p>
<p>You may also specify custom validators for even more control of how config is provided to your bot. Simply, pass a <code>customValidators</code> property to the <code>ConfigProvider</code> options, and map the key of the config to its validator function. Your validator function should
throw a <code>TypeError</code> if the given value is invalid based on your criteria.</p>
<p>An example of a bot&#39;s configuration may be as follows:</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;path&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">ExtendedClient</span><span class="hl-1">, </span><span class="hl-2">ConfigProvider</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">Intents</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;discord.js&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ConfigProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">env:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">, </span><span class="hl-6">// This adds the environment variables to the config.</span><br/><span class="hl-1">  </span><span class="hl-5">configPath:</span><span class="hl-1"> </span><span class="hl-5">path</span><span class="hl-1">.</span><span class="hl-3">join</span><span class="hl-1">(</span><span class="hl-5">__dirname</span><span class="hl-1">, </span><span class="hl-4">&#39;./config/settings.json&#39;</span><span class="hl-1">), </span><span class="hl-6">// This is the location of the JSON file that includes the config.</span><br/><span class="hl-1">  </span><span class="hl-5">default:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">PREFIX:</span><span class="hl-1"> </span><span class="hl-4">&#39;!&#39;</span><span class="hl-1">, </span><span class="hl-6">// Adds a default value for the PREFIX config.</span><br/><span class="hl-1">    </span><span class="hl-5">TOKEN:</span><span class="hl-1"> </span><span class="hl-0">null</span><span class="hl-1">, </span><span class="hl-6">// Adds a default value for the TOKEN config.</span><br/><span class="hl-1">    </span><span class="hl-5">MY_ID:</span><span class="hl-1"> </span><span class="hl-7">123</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">OPTIONAL_FLAG:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">MY_ENUM:</span><span class="hl-1"> </span><span class="hl-4">&#39;enum1&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">types:</span><span class="hl-1"> { </span><span class="hl-6">// These are the types of the configuration. The provider validates that the config receives the proper configuration types.</span><br/><span class="hl-1">    </span><span class="hl-5">PREFIX:</span><span class="hl-1"> </span><span class="hl-4">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">TOKEN:</span><span class="hl-1"> [</span><span class="hl-4">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;null&#39;</span><span class="hl-1">], </span><span class="hl-6">// With a &#39;null&#39; type, you can pass &#39;null&#39; to have it as null.</span><br/><span class="hl-1">    </span><span class="hl-5">MY_ID:</span><span class="hl-1"> </span><span class="hl-4">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">OPTIONAL_FLAG:</span><span class="hl-1"> [</span><span class="hl-4">&#39;boolean&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;null&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-5">MY_ENUM:</span><span class="hl-1"> </span><span class="hl-4">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">MY_NUM_ARRAY:</span><span class="hl-1"> </span><span class="hl-4">&#39;number[]&#39;</span><span class="hl-1"> </span><span class="hl-6">// You can pass arrays through JSON or comma-separated values through env variables.</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">customValidators:</span><span class="hl-1"> { </span><span class="hl-6">// These are the custom validators to use instead of the basic type based validator.</span><br/><span class="hl-1">    </span><span class="hl-3">MY_ENUM</span><span class="hl-5">:</span><span class="hl-1"> (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">validValues</span><span class="hl-1"> = [</span><span class="hl-4">&#39;enum1&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;enum2&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;enum3&#39;</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-8">if</span><span class="hl-1"> (!</span><span class="hl-5">validValues</span><span class="hl-1">.</span><span class="hl-3">includes</span><span class="hl-1">(</span><span class="hl-5">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-8">throw</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-9">TypeError</span><span class="hl-1">(</span><span class="hl-4">`</span><span class="hl-0">${</span><span class="hl-5">value</span><span class="hl-0">}</span><span class="hl-4"> is not a valid value for MY_ENUM, you should use: </span><span class="hl-0">${</span><span class="hl-5">validValues</span><span class="hl-10">.</span><span class="hl-3">join</span><span class="hl-10">(</span><span class="hl-4">&#39;, &#39;</span><span class="hl-10">)</span><span class="hl-0">}</span><span class="hl-4">`</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ExtendedClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">config</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">intents:</span><span class="hl-1"> [</span><span class="hl-5">Intents</span><span class="hl-1">.</span><span class="hl-2">FLAGS</span><span class="hl-1">.</span><span class="hl-2">GUILDS</span><span class="hl-1">]</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Make sure to check the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.configprovider.html">documentation page</a> to see the structure of the JSON file required and the type of environment variables that are supported.</p>

<a href="#creating-a-client" id="creating-a-client" style="color: inherit; text-decoration: none;">
  <h3>Creating a Client</h3>
</a>
<p>This package exports an extension of the regular <a href="https://discord.js.org/#/docs/discord.js/stable/class/Client">Discord.js Client</a> that contains all the extended functionality. You can create one by using the following:</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;path&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">ExtendedClient</span><span class="hl-1">, </span><span class="hl-2">ConfigProvider</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">Intents</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;discord.js&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ConfigProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">env:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">configPath:</span><span class="hl-1"> </span><span class="hl-5">path</span><span class="hl-1">.</span><span class="hl-3">join</span><span class="hl-1">(</span><span class="hl-5">__dirname</span><span class="hl-1">, </span><span class="hl-4">&#39;./config/settings.json&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">default:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">KEY:</span><span class="hl-1"> </span><span class="hl-4">&#39;value&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ExtendedClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">config</span><span class="hl-1">, </span><span class="hl-6">// The config provider instance used by the bot.</span><br/><span class="hl-1">  </span><span class="hl-5">debug:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-6">// Enable debug-mode.</span><br/><span class="hl-1">  </span><span class="hl-5">owner:</span><span class="hl-1"> </span><span class="hl-4">&#39;123&#39;</span><span class="hl-1">, </span><span class="hl-6">// The ID of the bot&#39;s owner.</span><br/><span class="hl-1">  </span><span class="hl-5">prefix:</span><span class="hl-1"> </span><span class="hl-4">&#39;!&#39;</span><span class="hl-1">, </span><span class="hl-6">// The bot&#39;s prefix to be used.</span><br/><span class="hl-1">  </span><span class="hl-5">presence:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">templates:</span><span class="hl-1"> [</span><span class="hl-4">&#39;presence 1&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;presence 2&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;{custom_key} hi!&#39;</span><span class="hl-1">], </span><span class="hl-6">// The presence statuses used by this bot.</span><br/><span class="hl-1">    </span><span class="hl-5">refreshInterval:</span><span class="hl-1"> </span><span class="hl-7">3600000</span><span class="hl-1">, </span><span class="hl-6">// Update the bot&#39;s presence every hour.</span><br/><span class="hl-1">    </span><span class="hl-5">customGetters:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">custom_key</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-0">async</span><span class="hl-1">() </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-9">Math</span><span class="hl-1">.</span><span class="hl-3">random</span><span class="hl-1">().</span><span class="hl-3">toString</span><span class="hl-1">() </span><span class="hl-6">// Define custom getters for keys to replace on the presence strings.</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">errorOwnerReporting:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-6">// Sends DMs to the bot&#39;s owner whenever a command throws an error.</span><br/><span class="hl-1">  </span><span class="hl-5">intents:</span><span class="hl-1"> [</span><span class="hl-5">Intents</span><span class="hl-1">.</span><span class="hl-2">FLAGS</span><span class="hl-1">.</span><span class="hl-2">GUILDS</span><span class="hl-1">]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">login</span><span class="hl-1">(</span><span class="hl-11">&lt;</span><span class="hl-9">YOUR_DISCORD_TOKEN_HERE</span><span class="hl-11">&gt;</span><span class="hl-1">);</span>
</code></pre>
<p>The <code>presence</code> option in the client&#39;s constructor allows you to configure the presence statuses to be used by the bots. These presence statuses may include information from the bot, such as: number of guilds connected to, number of commands, the time the bot went online, or even custom data... Consider checking the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.presencetemplater.html">documentation page</a> to see what information you can include in your presence statuses
and how to add custom getters for your own presence messages.</p>

<a href="#adding-defaults-to-your-client" id="adding-defaults-to-your-client" style="color: inherit; text-decoration: none;">
  <h3>Adding defaults to your Client</h3>
</a>
<p>You can register default handlers for the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.clientdefaulthandlers.html">Discord.js Client</a> events, as well as the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.extraclientdefaulthandlers.html">ExtendedClient</a> custom events.</p>
<pre><code class="language-js"><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">registerDefaultEvents</span><span class="hl-1">().</span><span class="hl-3">registerExtraDefaultEvents</span><span class="hl-1">();</span>
</code></pre>
<p>The package also comes with default commands that you can use on your bot. Check the <a href="https://docs.greencoaststudios.com/discord.js-extended/master/modules/defaultcommands.html">Default Commands</a> to see the available commands you can register right away. You can register them like:</p>
<pre><code class="language-js"><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">registry</span><span class="hl-1">.</span><span class="hl-3">registerDefaults</span><span class="hl-1">();</span>
</code></pre>

<a href="#adding-a-database-provider-to-your-client" id="adding-a-database-provider-to-your-client" style="color: inherit; text-decoration: none;">
  <h3>Adding a Database Provider to your Client</h3>
</a>
<p>The package comes with persistent data functionality that can be enabled. The <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.dataprovider.html">DataProvider</a> is an abstract class that serves as common interface to use. By default, data is stored by guild, but you can also store/get data on a global scope.</p>
<p>You can use the following methods:</p>
<pre><code class="language-js"><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-5">guild</span><span class="hl-1">, </span><span class="hl-4">&#39;key&#39;</span><span class="hl-1">); </span><span class="hl-6">// Get a value for &#39;key&#39; in guild.</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">set</span><span class="hl-1">(</span><span class="hl-5">guild</span><span class="hl-1">, </span><span class="hl-4">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;value&#39;</span><span class="hl-1">); </span><span class="hl-6">// Set &#39;value&#39; for &#39;key&#39; in guild.</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">delete</span><span class="hl-1">(</span><span class="hl-5">guild</span><span class="hl-1">, </span><span class="hl-4">&#39;key&#39;</span><span class="hl-1">); </span><span class="hl-6">// Delete a key-value pair for &#39;key&#39; in guild.</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">clear</span><span class="hl-1">(</span><span class="hl-5">guild</span><span class="hl-1">); </span><span class="hl-6">// Clear all data in a guild.</span><br/><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">getGlobal</span><span class="hl-1">(</span><span class="hl-4">&#39;key&#39;</span><span class="hl-1">); </span><span class="hl-6">// Get a value for &#39;key&#39; in the global scope.</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">setGlobal</span><span class="hl-1">(</span><span class="hl-4">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;value&#39;</span><span class="hl-1">); </span><span class="hl-6">// Set &#39;value&#39; for &#39;key&#39; in the global scope.</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">deleteGlobal</span><span class="hl-1">(</span><span class="hl-4">&#39;key&#39;</span><span class="hl-1">); </span><span class="hl-6">// Delete a key-value pair for &#39;key&#39; in the global scope.</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">dataProvider</span><span class="hl-1">.</span><span class="hl-3">clearGlobal</span><span class="hl-1">(); </span><span class="hl-6">// Clear all data in the global scope.</span>
</code></pre>
<blockquote>
<p>You need to set up a data provider before being able to use any of these methods.</p>
</blockquote>

<a href="#leveldataprovider" id="leveldataprovider" style="color: inherit; text-decoration: none;">
  <h4>LevelDataProvider</h4>
</a>
<p><a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/dataproviders.leveldataprovider.html">LevelDataProvider</a> is a data provider implemented with a <a href="https://www.npmjs.com/package/level">LevelDB</a> backend. In order to use this, you need to install <a href="https://www.npmjs.com/package/level">level</a>.
This data provider was made for <code>level@7.0.1</code> but any v7 should work.</p>
<pre><code class="language-text">npm install level
</code></pre>
<p>In order to set up this data provider, you need to import it and add it to your client.</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">LevelDataProvider</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended/dist/providers/LevelDataProvider&#39;</span><span class="hl-1">).</span><span class="hl-5">default</span><span class="hl-1">;</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">provider</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">LevelDataProvider</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">, </span><span class="hl-4">&#39;database_location&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&#39;ready&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1">() </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">setProvider</span><span class="hl-1">(</span><span class="hl-5">provider</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#redisdataprovider" id="redisdataprovider" style="color: inherit; text-decoration: none;">
  <h4>RedisDataProvider</h4>
</a>
<p><a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/dataproviders.redisdataprovider.html">RedisDataProvider</a> is a data provider implemented with a <a href="https://www.npmjs.com/package/redis">Redis</a> backend. In order to use this, you need to install <a href="https://www.npmjs.com/package/redis">redis</a>.
This data provider was made for <code>redis@4.0.2</code> but any v4 should work.</p>
<pre><code class="language-text">npm install redis
</code></pre>
<p>In order to set up this data provider, you need to import it and add it to your client.</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">RedisDataProvider</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended/dist/providers/RedisDataProvider&#39;</span><span class="hl-1">).</span><span class="hl-5">default</span><span class="hl-1">;</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">provider</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">RedisDataProvider</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">, { </span><br/><span class="hl-1">  </span><span class="hl-5">url:</span><span class="hl-1"> </span><span class="hl-4">&#39;redis://alice:foobared@awesome.redis.server:6380&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&#39;ready&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1">() </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">setProvider</span><span class="hl-1">(</span><span class="hl-5">provider</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>
<blockquote>
<p>Keep in mind that Redis was originally meant to be a cache, data is deleted by default across
service restarts. You can achieve persistence by <a href="https://redis.io/topics/persistence">properly configuring</a> your
Redis instance.</p>
</blockquote>

<a href="#localizing-your-bot" id="localizing-your-bot" style="color: inherit; text-decoration: none;">
  <h3>Localizing Your Bot</h3>
</a>
<p>The package contains a <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.localizer.html">Localizer</a> class to help with the localization of your bot. In order to use it, you should pass a <code>localizer</code> object to your <code>client</code> constructor and
initialize the localizer in the <code>ready</code> event. Keep in mind that you absolutely need the <code>GUILDS</code> intent in your client for this to work properly.</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ExtendedClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">localizer:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">defaultLocale:</span><span class="hl-1"> </span><span class="hl-4">&#39;en&#39;</span><span class="hl-1">, </span><span class="hl-6">// The default locale for your bot.</span><br/><span class="hl-1">    </span><span class="hl-5">dataProviderKey:</span><span class="hl-1"> </span><span class="hl-4">&#39;locale&#39;</span><span class="hl-1">, </span><span class="hl-6">// The key to be used to store the locale for each guild in the client&#39;s data provider.</span><br/><span class="hl-1">    </span><span class="hl-5">localeStrings:</span><span class="hl-1"> </span><span class="hl-5">locales</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">intents:</span><span class="hl-1"> [</span><span class="hl-4">&#39;GUILDS&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&#39;ready&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1">() </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">setDataProvider</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">DataProvider</span><span class="hl-1">()); </span><span class="hl-6">// Should set the data provider before.</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">init</span><span class="hl-1">(); </span><span class="hl-6">// Initializes the localizer.  </span><br/><span class="hl-1">});</span>
</code></pre>
<p>The <code>localeStrings</code> object should map the name of the locale to another object that maps the message keys with their corresponding message string in its respective language.
In the example above, the variable <code>locales</code> could be:</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">locales</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">en:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.hello&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.bye&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Bye&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.with_value&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello {name}!&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">es:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.hello&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hola&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.bye&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Adios&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.with_value&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hola {name}!&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">fr:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.hello&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Bonjour&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.bye&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Au revoir&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;message.test.with_value&#39;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&#39;Bonjour {name}!&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">};</span>
</code></pre>
<p>Locale messages should follow the <a href="https://formatjs.io/docs/intl-messageformat/#common-usage-example">ICU format</a>.</p>
<p>In case a message is not available in a certain locale and it is requested, the message from the default locale will be picked.</p>
<p>Inside a command, you may use the localizer in the following manner:</p>
<pre><code class="language-js"><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-9">MyCommand</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-9">SlashCommand</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-3">run</span><span class="hl-1">(</span><span class="hl-5">interaction</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">localizer</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">getLocalizer</span><span class="hl-1">(</span><span class="hl-5">interaction</span><span class="hl-1">.</span><span class="hl-5">guild</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">interaction</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">t</span><span class="hl-1">(</span><span class="hl-4">&#39;message.test.hello&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-5">interaction</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">t</span><span class="hl-1">(</span><span class="hl-4">&#39;message.test.with_value&#39;</span><span class="hl-1">, { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;your name&#39;</span><span class="hl-1"> }));</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>This uses the locale saved for the guild. You can change the locale for the guild as such:</p>
<pre><code class="language-js"><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-9">MyCommand</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-9">SlashCommand</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-3">run</span><span class="hl-1">(</span><span class="hl-5">interaction</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">localizer</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">getLocalizer</span><span class="hl-1">(</span><span class="hl-5">interaction</span><span class="hl-1">.</span><span class="hl-5">guild</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">updateLocale</span><span class="hl-1">(</span><span class="hl-4">&#39;fr&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">interaction</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-4">`Updated locale to </span><span class="hl-0">${</span><span class="hl-5">localizer</span><span class="hl-10">.</span><span class="hl-5">locale</span><span class="hl-0">}</span><span class="hl-4">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>If you&#39;re outside the context of a guild, you can still use the localizer by using:</p>
<pre><code class="language-js"><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">localizer</span><span class="hl-1">.</span><span class="hl-3">t</span><span class="hl-1">(</span><span class="hl-4">&#39;message.test.with_value&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;es&#39;</span><span class="hl-1">, { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;your name&#39;</span><span class="hl-1"> });</span>
</code></pre>

<a href="#creating-commands" id="creating-commands" style="color: inherit; text-decoration: none;">
  <h3>Creating Commands</h3>
</a>
<p>The package contains a <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.regularcommand.html">RegularCommand</a> to facilitate the creation of commands. In order to create one, you need to create a class that extends RegularCommand and implements a <code>run()</code> method.</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">Permissions</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;discord.js&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">RegularCommand</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">module</span><span class="hl-1">.</span><span class="hl-9">exports</span><span class="hl-1"> = </span><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-9">MyCommand</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-9">RegularCommand</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">constructor</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">super</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;cmd&#39;</span><span class="hl-1">, </span><span class="hl-6">// The command&#39;s name. In this case, users need to write !cmd for the command to work.,</span><br/><span class="hl-1">      </span><span class="hl-5">aliases:</span><span class="hl-1"> [</span><span class="hl-4">&#39;mycmd&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;alias2&#39;</span><span class="hl-1">], </span><span class="hl-6">// The command&#39;s aliases. With this, users can write !mycmd and !alias2 for the command to work.</span><br/><span class="hl-1">      </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-4">&#39;My command.&#39;</span><span class="hl-1">, </span><span class="hl-6">// The command&#39;s description.</span><br/><span class="hl-1">      </span><span class="hl-5">group:</span><span class="hl-1"> </span><span class="hl-4">&#39;my_group&#39;</span><span class="hl-1">, </span><span class="hl-6">// The ID of the group that holds this command.</span><br/><span class="hl-1">      </span><span class="hl-5">emoji:</span><span class="hl-1"> </span><span class="hl-4">&#39;:robot:&#39;</span><span class="hl-1">, </span><span class="hl-6">// The emoji that represents this command. This is used by the default HelpCommand. Defaults to &#39;:robot:&#39;.</span><br/><span class="hl-1">      </span><span class="hl-5">guildOnly:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-6">// Whether the command may only be used in a guild. Defaults to false.</span><br/><span class="hl-1">      </span><span class="hl-5">nsfw:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-6">// Whether the command may only be used in a NSFW channel. Defaults to false.</span><br/><span class="hl-1">      </span><span class="hl-5">ownerOnly:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-6">// Whether the command may only be used by the owner. Defaults to false.</span><br/><span class="hl-1">      </span><span class="hl-5">userPermissions:</span><span class="hl-1"> </span><span class="hl-5">Permissions</span><span class="hl-1">.</span><span class="hl-2">FLAGS</span><span class="hl-1">.</span><span class="hl-2">MANAGE_CHANNELS</span><span class="hl-1">, </span><span class="hl-6">// The PermissionResolvable representing the permissions that users require to execute this command. Defaults to null.</span><br/><span class="hl-1">      </span><span class="hl-5">ownerOverride:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-6">// Whether the owner may execute this command even if they don&#39;t have the required permissions. Defaults to true.</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">run</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">, </span><span class="hl-5">args</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">message</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-4">&#39;Hi!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>This command should be saved in a folder with the ID of its group. These folders should be contained in a bigger folder. The folder tree should look like this:</p>
<pre><code class="language-text">.
├── commands
│   ├── my_group
│   |   ├── MyCommand.js
│   |   ├── AnotherCommand.js
│   ├── other_group
│   |   ├── OtherCommand.js
</code></pre>
<p>Once you have this folder structure, you can register your commands in the client:</p>
<pre><code class="language-js"><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">registry</span><br/><span class="hl-1">  .</span><span class="hl-3">registerGroups</span><span class="hl-1">([</span><br/><span class="hl-1">    [</span><span class="hl-4">&#39;my_group&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;My Group&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-4">&#39;other_group&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;Other Group&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-3">registerCommandsIn</span><span class="hl-1">(</span><span class="hl-4">&#39;./commands/folder/location&#39;</span><span class="hl-1">);</span>
</code></pre>
<blockquote>
<p>If you don&#39;t register the groups before-hand, the commands will not be registered.</p>
</blockquote>

<a href="#creating-slash-commands" id="creating-slash-commands" style="color: inherit; text-decoration: none;">
  <h3>Creating Slash Commands</h3>
</a>
<p>You can also use Slash Commands, the package contains a <a href="https://docs.greencoaststudios.com/discord.js-extended/master/classes/discord_js_extended.slashcommand.html">SlashCommand</a> to facilitate the creation of slash commands. In order to create one, you need to create a class that extends SlashCommand and implements a <code>run()</code> method.</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">Permissions</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;discord.js&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">SlashCommand</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">SlashCommandBuilder</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@discordjs/builders&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">module</span><span class="hl-1">.</span><span class="hl-9">exports</span><span class="hl-1"> = </span><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-9">MyCommand</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-9">SlashCommand</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">constructor</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">super</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;cmd&#39;</span><span class="hl-1">, </span><span class="hl-6">// The command&#39;s name. In this case, users need to write !cmd for the command to work.,</span><br/><span class="hl-1">      </span><span class="hl-5">aliases:</span><span class="hl-1"> [</span><span class="hl-4">&#39;mycmd&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;alias2&#39;</span><span class="hl-1">], </span><span class="hl-6">// The command&#39;s aliases. With this, users can write !mycmd and !alias2 for the command to work.</span><br/><span class="hl-1">      </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-4">&#39;My command.&#39;</span><span class="hl-1">, </span><span class="hl-6">// The command&#39;s description.</span><br/><span class="hl-1">      </span><span class="hl-5">group:</span><span class="hl-1"> </span><span class="hl-4">&#39;my_group&#39;</span><span class="hl-1">, </span><span class="hl-6">// The ID of the group that holds this command.</span><br/><span class="hl-1">      </span><span class="hl-5">emoji:</span><span class="hl-1"> </span><span class="hl-4">&#39;:robot:&#39;</span><span class="hl-1">, </span><span class="hl-6">// The emoji that represents this command. This is used by the default HelpCommand. Defaults to &#39;:robot:&#39;.</span><br/><span class="hl-1">      </span><span class="hl-5">guildOnly:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-6">// Whether the command may only be used in a guild. Defaults to false.</span><br/><span class="hl-1">      </span><span class="hl-5">nsfw:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-6">// Whether the command may only be used in a NSFW channel. Defaults to false.</span><br/><span class="hl-1">      </span><span class="hl-5">ownerOnly:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-6">// Whether the command may only be used by the owner. Defaults to false.</span><br/><span class="hl-1">      </span><span class="hl-5">userPermissions:</span><span class="hl-1"> </span><span class="hl-5">Permissions</span><span class="hl-1">.</span><span class="hl-2">FLAGS</span><span class="hl-1">.</span><span class="hl-2">MANAGE_CHANNELS</span><span class="hl-1">, </span><span class="hl-6">// The PermissionResolvable representing the permissions that users require to execute this command. Defaults to null.</span><br/><span class="hl-1">      </span><span class="hl-5">ownerOverride:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-6">// Whether the owner may execute this command even if they don&#39;t have the required permissions. Defaults to true.</span><br/><span class="hl-1">      </span><span class="hl-5">dataBuilder:</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SlashCommandBuilder</span><span class="hl-1">() </span><span class="hl-6">// You do not need to use .setName() and .setDescription(), they&#39;re handled internally with the data above.</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">run</span><span class="hl-1">(</span><span class="hl-5">interaction</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">interaction</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-4">&#39;Hi!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>To use slash commands, you need to install the following package to access the <code>SlashCommandBuilder</code> class:</p>
<pre><code class="language-text">npm install @discordjs/builders
</code></pre>
<blockquote>
<p>Keep in mind that you do not need to use <code>SlashCommandBuilder.setName()</code> and <code>SlashCommandBuilder.setDescription()</code> as
these are already set by the command constructor.</p>
</blockquote>

<a href="#deploying-slash-commands" id="deploying-slash-commands" style="color: inherit; text-decoration: none;">
  <h3>Deploying Slash Commands</h3>
</a>
<p>Slash commands require a special procedure to deploy them and have them live on Discord.</p>

<a href="#development" id="development" style="color: inherit; text-decoration: none;">
  <h4>Development</h4>
</a>
<p>For development, it is recommended to have a testing server for the development of the bot. With this in mind, you should set <code>testingGuildID</code> on your
client options and have the following <code>ready</code> event handler.</p>
<pre><code class="language-js"><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&#39;ready&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1">() </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">deployer</span><span class="hl-1">.</span><span class="hl-5">rest</span><span class="hl-1">.</span><span class="hl-3">setToken</span><span class="hl-1">(</span><span class="hl-5">config</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-4">&#39;TOKEN&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">deployer</span><span class="hl-1">.</span><span class="hl-3">deployToTestingGuild</span><span class="hl-1">();</span><br/><span class="hl-1">});</span>
</code></pre>
<p>This will update the slash commands <strong>ONLY</strong> on your testing server.</p>

<a href="#production" id="production" style="color: inherit; text-decoration: none;">
  <h4>Production</h4>
</a>
<p>For production, you should have a command deploy script, that could be run by a CI pipeline on a new version of your bot. The following example
can work as a potential deploy script.</p>
<pre><code class="language-js"><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;dotenv&#39;</span><span class="hl-1">).</span><span class="hl-3">config</span><span class="hl-1">();</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;path&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">ExtendedClient</span><span class="hl-1">, </span><span class="hl-2">ConfigProvider</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@greencoast/discord.js-extended&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ConfigProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">env:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">configPath:</span><span class="hl-1"> </span><span class="hl-5">path</span><span class="hl-1">.</span><span class="hl-3">join</span><span class="hl-1">(</span><span class="hl-5">__dirname</span><span class="hl-1">, </span><span class="hl-4">&#39;./config/settings.json&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">types:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">TOKEN:</span><span class="hl-1"> </span><span class="hl-4">&#39;string&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ExtendedClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">config</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">intents:</span><span class="hl-1"> []</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">registry</span><br/><span class="hl-1">  .</span><span class="hl-3">registerDefaults</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">registerGroups</span><span class="hl-1">([</span><br/><span class="hl-1">    [</span><span class="hl-4">&#39;util&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;Utility&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-4">&#39;slash&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;Slash Commands&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-3">registerCommandsIn</span><span class="hl-1">(</span><span class="hl-5">path</span><span class="hl-1">.</span><span class="hl-3">join</span><span class="hl-1">(</span><span class="hl-5">__dirname</span><span class="hl-1">, </span><span class="hl-4">&#39;./commands&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&#39;ready&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1">() </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">deployer</span><span class="hl-1">.</span><span class="hl-5">rest</span><span class="hl-1">.</span><span class="hl-3">setToken</span><span class="hl-1">(</span><span class="hl-5">config</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-4">&#39;TOKEN&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">deployer</span><span class="hl-1">.</span><span class="hl-3">deployGlobally</span><span class="hl-1">();</span><br/><span class="hl-1">  } </span><span class="hl-8">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">error</span><span class="hl-1">(</span><span class="hl-4">&#39;Something happened!&#39;</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-3">exit</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&#39;commandsDeployed&#39;</span><span class="hl-1">, (</span><span class="hl-5">commands</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`Successfully deployed </span><span class="hl-0">${</span><span class="hl-5">commands</span><span class="hl-10">.</span><span class="hl-5">length</span><span class="hl-0">}</span><span class="hl-4"> commands globally!`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-3">exit</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">login</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">config</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-4">&#39;TOKEN&#39;</span><span class="hl-1">));</span>
</code></pre>
<blockquote>
<p>Keep in mind that you only need to deploy globally once. Also, this process can take up to an hour to be reflected
on Discord. <strong>You should not use <code>client.deployer.deployGlobally()</code> for development.</strong></p>
</blockquote>

<a href="#inviting-your-bot" id="inviting-your-bot" style="color: inherit; text-decoration: none;">
  <h2>Inviting Your Bot</h2>
</a>
<p>Inviting your bot requires you to build a specific invite link. Head over to the <a href="https://discord.com/developers/applications">Discord Applications Page</a>
and go into your bot&#39;s page. Under the <code>OAuth2</code> tab, head over to the <code>OAuth2 URL Generator</code> and select (at least) the scopes <code>bot</code> and <code>application.commands</code>.
At the bottom, another box should show up where you should pick the corresponding permissions your bot requires to function properly. Once you have all that set,
an invite URL will be generated. You should invite the bot to your server (or any server) with this link.</p>

<a href="#testing" id="testing" style="color: inherit; text-decoration: none;">
  <h2>Testing</h2>
</a>
<p>You can run the unit tests for this package by:</p>
<ol>
<li>Cloning the repo:</li>
</ol>
<pre><code class="language-text">git clone https://github.com/greencoast-studios/discord.js-extended
</code></pre>
<ol start="2">
<li>Installing the dependencies.</li>
</ol>
<pre><code class="language-text">npm install
</code></pre>
<ol start="3">
<li>Running the tests.</li>
</ol>
<pre><code class="language-text">npm test
</code></pre>

<a href="#bots-using-this" id="bots-using-this" style="color: inherit; text-decoration: none;">
  <h2>Bots Using This</h2>
</a>
<p>Here&#39;s a list of some bots that use this library.</p>
<ul>
<li><a href="https://github.com/moonstar-x/discord-downtime-notifier">discord-downtime-notifier</a></li>
<li><a href="https://github.com/moonstar-x/discord-free-games-notifier">discord-free-games-notifier</a></li>
<li><a href="https://github.com/moonstar-x/discord-music-24-7">discord-music-24-7</a></li>
<li><a href="https://github.com/moonstar-x/discord-tts-bot">discord-tts-bot</a></li>
</ul>

<a href="#authors" id="authors" style="color: inherit; text-decoration: none;">
  <h2>Authors</h2>
</a>
<p>This library was made by <a href="https://greencoaststudios.com">Greencoast Studios</a>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/DataProviders.html">Data<wbr/>Providers</a></li><li class=" tsd-kind-module"><a href="modules/DefaultCommands.html">Default<wbr/>Commands</a></li><li class=" tsd-kind-module"><a href="modules/Discord_js_Extended.html">Discord.js-<wbr/>Extended</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>